<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FIU Panther Planner</title>
    <link rel="stylesheet" href="styles.css">
    <script src="config.js"></script>
    <script>
        // Load Google Maps API with key from config
        const script = document.createElement('script');
        script.src = `https://maps.googleapis.com/maps/api/js?key=${CONFIG.GOOGLE_MAPS_API_KEY}&libraries=geometry`;
        document.head.appendChild(script);
    </script>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>🎓 FIU Panther Planner</h1>
            <!-- <p>Computer Science Progress</p> -->
        </div>

        <div class="content">
            <!-- Major Selector -->
            <div class="major-selector">
                <label for="major-dropdown">Select Major</label>
                <select id="major-dropdown" class="major-dropdown">
                    <option value="">Select your major...</option>
                </select>
            </div>

            <!-- AI Agent Section -->
            <div class="ai-agent-section">
                <div class="ai-header" id="ai-header">
                    <h3><img src="icons/fiu_panther.png" alt="FIU Panther"
                            style="width: 20px; height: 20px; vertical-align: middle; margin-right: 5px;"> Ask Roary
                    </h3>
                    <div class="ai-arrow" id="ai-arrow">▼</div>
                </div>
                <div class="ai-content" id="ai-content">
                    <input type="text" class="ai-input" placeholder="Ask about courses, prerequisites, or planning...">

                    <!-- Prompt templates container -->
                    <div class="prompt-templates">
                        <button class="prompt-btn" id="next-courses-btn">
                            What should I take next?
                        </button>

                        <button class="prompt-btn" id="course-requirements-btn">
                            Course requirements
                        </button>
                    </div>

                    <button class="ai-button">Ask AI</button>
                </div>
            </div>

            <!-- Class Checklist / Class Planner Dropdown -->
            <div class="dropdown-section">
                <div class="dropdown-header" id="checklist-header">
                    <div>
                        <div class="dropdown-title"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round"
                                class="lucide lucide-book-open-text-icon lucide-book-open-text"
                                style="display: inline-block; vertical-align: text-top; margin-right: 4px; transform: translateY(1px);">
                                <path d="M12 7v14" />
                                <path d="M16 12h2" />
                                <path d="M16 8h2" />
                                <path
                                    d="M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z" />
                                <path d="M6 12h2" />
                                <path d="M6 8h2" />
                            </svg> Class Checklist</div>
                        <div class="dropdown-subtitle">Track completed courses for your degree</div>
                    </div>
                    <div class="dropdown-arrow" id="checklist-arrow">▼</div>
                </div>
                <div class="dropdown-content" id="checklist-content">
                    <div class="dropdown-inner">
                        <div class="search-filters">
                            <input type="text" class="filter-input" placeholder="Search courses...">
                            <!-- <input type="text" class="filter-input" placeholder="Filter semester..."> -->
                        </div>

                        <div class="course-grid" id="course-grid">
                            <!-- Courses will be loaded dynamically from API -->
                            <div class="loading-message">Loading courses...</div>
                        </div>

                    </div>
                </div>
            </div>
            <div class="dropdown-section">
                <div class="dropdown-header" id="schedule-header">
                    <div>
                        <div class="dropdown-title"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round"
                                class="lucide lucide-calendar-check-icon lucide-calendar-check"
                                style="display: inline-block; vertical-align: text-top; margin-right: 4px; transform: translateY(1px);">
                                <path d="M8 2v4" />
                                <path d="M16 2v4" />
                                <rect width="18" height="18" x="3" y="4" rx="2" />
                                <path d="M3 10h18" />
                                <path d="m9 16 2 2 4-4" />
                            </svg> Schedule</div>
                        <div class="dropdown-subtitle">Weekly class schedule and calendar</div>
                    </div>
                    <div class="dropdown-arrow" id="schedule-arrow">▼</div>
                </div>
                <div class="dropdown-content" id="schedule-content">
                    <div class="dropdown-inner">
                        <button id="add-block-btn" style="width:100%;margin-bottom:10px;padding:8px 0;background:#013677;color:#fff;border:none;border-radius:6px;font-weight:600;cursor:pointer;">+ Add Block</button>
                        <div id="add-block-modal" style="display:none;position:absolute;left:50%;top:180px;transform:translateX(-50%);z-index:1001;background:#fff;border-radius:10px;box-shadow:0 2px 16px rgba(0,0,0,0.18);padding:24px 20px;min-width:260px;max-width:320px;">
                            <h3 style="margin-bottom:12px;color:#013677;font-size:1.1rem;text-align:center;">Add Schedule Block</h3>
                            <form id="add-block-form">
                                <label for="block-day">Day of Week</label>
                                <select id="block-day" style="width:100%;margin-bottom:10px;">
                                    <option value="Monday">Monday</option>
                                    <option value="Tuesday">Tuesday</option>
                                    <option value="Wednesday">Wednesday</option>
                                    <option value="Thursday">Thursday</option>
                                    <option value="Friday">Friday</option>
                                    <option value="Saturday">Saturday</option>
                                    <option value="Sunday">Sunday</option>
                                </select>
                                <label for="block-start">Start Time</label>
                                <input type="time" id="block-start" required style="width:100%;margin-bottom:10px;">
                                <label for="block-end">End Time</label>
                                <input type="time" id="block-end" required style="width:100%;margin-bottom:10px;">
                                <label for="block-location">Location</label>
                                <select id="block-location" required style="width:100%;margin-bottom:16px;">
                                    <option value="">Select location...</option>
                                </select>
                                <div style="display:flex;justify-content:space-between;gap:10px;">
                                    <button type="submit" style="background:#013677;color:#fff;padding:7px 18px;border:none;border-radius:6px;font-weight:600;cursor:pointer;">Add</button>
                                    <button type="button" id="close-block-modal" style="background:#eee;color:#013677;padding:7px 18px;border:none;border-radius:6px;font-weight:600;cursor:pointer;">Cancel</button>
                                </div>
                            </form>
                        </div>
                        <div class="schedule-calendar">
                            <div class="calendar-header">
                                <h4 style="margin-bottom: 10px; color: #2c3e50; font-size: 0.9rem;">This Week's Schedule
                                </h4>
                            </div>
                            <div class="calendar-grid">
                                <div class="day-column">
                                    <div class="day-header">Mon</div>
                                    <div class="day-content">
                                        <div class="schedule-item class">9:30 AM<br>COP 3530</div>
                                        <div class="schedule-item class">12:30 PM<br>CAI 4002</div>
                                    </div>
                                </div>
                                <div class="day-column">
                                    <div class="day-header">Tue</div>
                                    <div class="day-content">
                                        <div class="schedule-item class">11:00 AM<br>MAD 3512</div>
                                        <div class="schedule-item class">2:00 PM<br>COT 3541</div>
                                    </div>
                                </div>
                                <div class="day-column">
                                    <div class="day-header">Wed</div>
                                    <div class="day-content">
                                        <div class="schedule-item class">9:30 AM<br>COP 3530</div>
                                        <div class="schedule-item class">12:30 PM<br>CAI 4002</div>
                                    </div>
                                </div>
                                <div class="day-column">
                                    <div class="day-header">Thu</div>
                                    <div class="day-content">
                                        <div class="schedule-item class">11:00 AM<br>MAD 3512</div>
                                        <div class="schedule-item class">2:00 PM<br>COT 3541</div>
                                    </div>
                                </div>
                                <div class="day-column">
                                    <div class="day-header">Fri</div>
                                    <div class="day-content">
                                        <div class="schedule-item class">10:00 AM<br>CAP 4052</div>
                                    </div>
                                </div>
                                <div class="day-column">
                                    <div class="day-header">Sat</div>
                                    <div class="day-content">
                                        <!-- Saturday classes go here -->
                                    </div>
                                </div>
                                <div class="day-column">
                                    <div class="day-header">Sun</div>
                                    <div class="day-content">
                                        <!-- Sunday classes go here -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <!-- Map and Route Dropdown -->
            <div class="dropdown-section">
                <div class="dropdown-header" id="routes-header">
                    <div>
                        <div class="dropdown-title"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round"
                                class="lucide lucide-map-pin-icon lucide-map-pin"
                                style="display: inline-block; vertical-align: text-top; margin-right: 4px; transform: translateY(1px);">
                                <path
                                    d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0" />
                                <circle cx="12" cy="10" r="3" />
                            </svg> Map and Route</div>
                        <div class="dropdown-subtitle">Campus navigation and building routes</div>
                    </div>
                    <div class="dropdown-arrow" id="routes-arrow">▼</div>
                </div>
                <div class="dropdown-content" id="routes-content">
                    <div class="dropdown-inner">
                        <h4 style="margin-bottom: 10px; color: #2c3e50; font-size: 0.9rem;">Monday Route</h4>

                        <div class="route-item">
                            <div class="route-info">
                                <div class="route-time">9:30 AM</div>
                                <div class="route-location">COP 3530 - Parking Garage 6</div>
                            </div>
                            <div class="route-status">📍 Start</div>
                        </div>

                        <div class="route-item">
                            <div class="route-info">
                                <div class="route-time">11:00 AM</div>
                                <div class="route-location">Walk to Academic Health Center</div>
                            </div>
                            <div class="route-status">🚶‍♂️ 8 min</div>
                        </div>

                        <div class="route-item">
                            <div class="route-info">
                                <div class="route-time">12:30 PM</div>
                                <div class="route-location">CAI 4002 - AHC 5 212A</div>
                            </div>
                            <div class="route-status">📍 Class</div>
                        </div>

                        <div class="embedded-map" style="margin-bottom: 20px;">
                            <div id="map" style="width: 100%; height: 200px; border-radius: 8px;"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Schedule Dropdown -->

            <!-- Major Tracking Dropdown -->
            <div class="dropdown-section">
                <div class="dropdown-header" id="tracking-header">
                    <div>
                        <div class="dropdown-title"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round"
                                class="lucide lucide-chart-column-big-icon lucide-chart-column-big"
                                style="display: inline-block; vertical-align: text-top; margin-right: 4px; transform: translateY(1px);">
                                <path d="M3 3v16a2 2 0 0 0 2 2h16" />
                                <rect x="15" y="5" width="4" height="12" rx="1" />
                                <rect x="7" y="8" width="4" height="9" rx="1" />
                            </svg> Major Tracking</div>
                        <div class="dropdown-subtitle">Credits, GPA, semester, prerequisites progress</div>
                    </div>
                    <div class="dropdown-arrow" id="tracking-arrow">▼</div>
                </div>
                <div class="dropdown-content" id="tracking-content">
                    <div class="dropdown-inner">
                        <div class="progress-stats">
                            <h3 style="font-size: 1rem; margin-bottom: 8px;">📊 Academic Progress</h3>
                            <div class="stats-grid">
                                <div class="stat-item">
                                    <div class="stat-number">45</div>
                                    <div class="stat-label">Credits Earned</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-number">3.6</div>
                                    <div class="stat-label">Current GPA</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-number">4</div>
                                    <div class="stat-label">Semesters Left</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-number">85%</div>
                                    <div class="stat-label">Prerequisites</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="popup.js"></script>
</body>

</html>